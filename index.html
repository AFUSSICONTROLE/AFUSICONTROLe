<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Afussi Lemonfa - Intelligence Sup√©rieure</title>
    <link rel="manifest" href="manifest.json">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #000; color: #fff; font-family: 'Inter', sans-serif; overflow: hidden; touch-action: manipulation; }
        .master-glow { box-shadow: 0 0 40px rgba(212, 175, 55, 0.4); border: 3px solid #d4af37; }
        .ai-active { animation: pulse-gold 2s infinite; border-color: #4ade80; }
        @keyframes pulse-gold { 0% { opacity: 0.7; } 50% { opacity: 1; } 100% { opacity: 0.7; } }
        #log-console { font-family: monospace; font-size: 0.7rem; color: #4ade80; line-height: 1.2; }
        /* Correction : On utilise une classe CSS plus stricte pour bloquer les clics */
        .locked { filter: blur(8px); pointer-events: none !important; opacity: 0.3; }
        input[type="password"] { -webkit-text-security: disc; } /* Force les points noirs sur mobile */
    </style>
</head>
<body class="h-screen flex flex-col p-4">

    <div class="flex justify-between text-[10px] text-gray-500 mb-2 uppercase tracking-widest">
        <span id="sat-status">üõ∞Ô∏è Satellite: Actif</span>
        <span id="batt-status">üîã Batterie: --%</span>
    </div>

    <div class="flex flex-col items-center mb-4">
        <div id="ai-orb" class="w-28 h-28 rounded-full master-glow overflow-hidden relative transition-all duration-500">
            <img src="votre-photo.png" class="w-full h-full object-cover" alt="Ma√Ætre">
        </div>
        <h1 class="text-xl font-black mt-2 text-yellow-500 tracking-tighter">AFUSSI LEMONFA PRO</h1>
        <p id="ai-status" class="text-[8px] text-gray-400 italic">En attente de la Cl√© de Sang...</p>
    </div>

    <div id="chat-window" class="flex-1 bg-gray-900/50 rounded-2xl p-4 border border-gray-800 overflow-y-auto mb-4 shadow-inner">
        <div id="log-console">
            <div class="text-gray-600">[SYST√àME] Pr√™t pour l'√©veil...</div>
        </div>
    </div>

    <div id="main-controls" class="locked grid grid-cols-2 gap-3 mb-4">
        <button id="btn-mode" onclick="window.toggleModeGarde()" class="col-span-2 py-4 rounded-xl bg-yellow-600 text-black font-black uppercase shadow-lg active:scale-95 transition-all">
            ACTIVER SENTINELLE
        </button>
        
        <button onclick="window.marquerZoneTresor()" class="bg-gray-800 py-3 rounded-lg text-[10px] font-bold border border-gray-700 active:bg-gray-600">
            üìç MARQUER ZONE
        </button>
        
        <button onclick="window.lancerTresor()" class="bg-gray-800 py-3 rounded-lg text-[10px] font-bold border border-gray-700 active:bg-gray-600">
            üèÜ CHASSE AU TR√âSOR
        </button>
    </div>

    <div id="auth-zone" class="bg-gray-900 p-5 rounded-2xl border-t-2 border-yellow-500 shadow-2xl">
        <div class="text-center mb-3 text-xs text-yellow-500 font-bold uppercase tracking-widest">S√©curit√© de Sang</div>
        <input type="password" id="pin-code" placeholder="ENTRER CODE PIN" 
               class="w-full bg-black border border-yellow-900 p-3 rounded-xl text-center text-yellow-500 mb-3 outline-none focus:border-yellow-500 transition-all text-xl tracking-[1em]">
        <button onclick="validerAuthentification()" class="w-full bg-yellow-500 text-black font-black py-3 rounded-xl hover:bg-yellow-400 active:scale-95 transition-all">
            D√âVERROUILLER L'IA
        </button>
    </div>

    <script src="brain.js"></script>
    <script>
        // Enregistrement Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js');
        }

        // Nouvelle fonction de validation propre
        function validerAuthentification() {
            const pin = document.getElementById('pin-code').value;
            if(pin === "2026") {
                // 1. D√©blocage Visuel
                const controls = document.getElementById('main-controls');
                controls.classList.remove('locked');
                controls.style.filter = "none";
                controls.style.opacity = "1";
                controls.style.pointerEvents = "auto";

                // 2. Statut et Style
                document.getElementById('ai-status').innerText = "Ma√Ætre reconnu - Syst√®me Sup√©rieur Actif";
                document.getElementById('ai-status').classList.add('text-green-500');
                document.getElementById('auth-zone').style.display = 'none';

                // 3. Appel de la logique dans brain.js
                if (typeof verifierIdentite === 'function') {
                    verifierIdentite(); 
                }
            } else {
                alert("CODE PIN INCORRECT");
                if(typeof parler === 'function') parler("Alerte ! Tentative d'intrusion.");
            }
        }
    </script>
</body>
</html>
